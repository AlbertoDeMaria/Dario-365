{%- liquid
  assign show_payment_icons = section.settings.show_payment_icons
  assign show_locale_selector = section.settings.show_locale_selector
  assign show_currency_selector = section.settings.show_currency_selector
-%}

<footer class="bg-black flex justify-center text-white py-4">
  <div class="container mx-auto px-4">
    {% if section.settings.enable_menu %}
      <div class="menu-row" style="margin-bottom: {{ section.settings.spacing_between_rows }}px;">
        <nav class="footer-menu">
          <ul class="flex flex-wrap items-center justify-center">
            {% for link in section.settings.menu.links %}
              <li {% unless forloop.last %}style="margin-right: {{ section.settings.link_spacing }}px;"{% endunless %}>
                <a href="{{ link.url }}" 
                   class="footer-menu-link hover:underline">
                  {{ link.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        </nav>
      </div>
    {% endif %}
    
    {% if section.settings.footer_text != blank %}
      <div class="text-row">
        <div class="footer-text">
          {{ section.settings.footer_text }}
        </div>
      </div>
    {% endif %}
  </div>
</footer>

<style>
  .footer-menu-link {
    font-family: 'Montserrat', sans-serif;
    font-size: {{ section.settings.menu_text_size_mobile }}px;
    font-weight: {{ section.settings.menu_font_weight }};
    line-height: 20px;
    color: oklab(0.41233 -0.00633241 -0.0270027);
  }
  
  .footer-text {
    font-family: 'Montserrat', sans-serif;
    font-size: {{ section.settings.footer_text_size_mobile }}px;
    font-weight: {{ section.settings.footer_font_weight }};
    line-height: 20px;
    color: oklab(0.41233 -0.00633241 -0.0270027);
    text-align: center;
  }
  
  @media (min-width: 768px) {
    .footer-menu-link {
      font-size: {{ section.settings.menu_text_size_desktop }}px;
    }
    
    .footer-text {
      font-size: {{ section.settings.footer_text_size_desktop }}px;
    }
  }
</style>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "header",
      "content": "Contenuti"
    },
    {
      "type": "text",
      "id": "footer_text",
      "label": "Testo footer",
      "default": "Â© 2025, Store One More Time BUG 301 SRL, P.I. 12690450965"
    },
    {
      "type": "checkbox",
      "id": "enable_menu",
      "label": "Abilita menu",
      "default": true
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu footer",
      "default": "footer"
    },
    {
      "type": "header",
      "content": "Spaziatura"
    },
    {
      "type": "range",
      "id": "spacing_between_rows",
      "min": 0,
      "max": 50,
      "step": 1,
      "label": "Spazio tra le righe (px)",
      "default": 15
    },
    {
      "type": "range",
      "id": "link_spacing",
      "min": 4,
      "max": 40,
      "step": 2,
      "label": "Spazio tra i link (px)",
      "default": 16
    },
    {
      "type": "header",
      "content": "Stile testo copyright"
    },
    {
      "type": "range",
      "id": "footer_text_size_mobile",
      "min": 10,
      "max": 20,
      "step": 1,
      "label": "Dimensione testo mobile",
      "default": 14
    },
    {
      "type": "range",
      "id": "footer_text_size_desktop",
      "min": 10,
      "max": 20,
      "step": 1,
      "label": "Dimensione testo desktop",
      "default": 14
    },
    {
      "type": "range",
      "id": "footer_font_weight",
      "min": 300,
      "max": 700,
      "step": 100,
      "label": "Peso testo copyright",
      "default": 500
    },
    {
      "type": "header",
      "content": "Stile testo menu"
    },
    {
      "type": "range",
      "id": "menu_text_size_mobile",
      "min": 10,
      "max": 20,
      "step": 1,
      "label": "Dimensione testo menu mobile",
      "default": 14
    },
    {
      "type": "range",
      "id": "menu_text_size_desktop",
      "min": 10,
      "max": 20,
      "step": 1,
      "label": "Dimensione testo menu desktop",
      "default": 14
    },
    {
      "type": "range",
      "id": "menu_font_weight",
      "min": 300,
      "max": 700,
      "step": 100,
      "label": "Peso testo menu",
      "default": 500
    },
    {
      "type": "header",
      "content": "Opzioni aggiuntive"
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "Mostra metodi di pagamento",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_locale_selector",
      "label": "Mostra selettore lingua",
      "default": false,
      "info": "Per mostrare i selettori di lingua, aggiungi le lingue nel tuo pannello di amministrazione."
    },
    {
      "type": "checkbox",
      "id": "show_currency_selector",
      "label": "Mostra selettore valuta",
      "default": false,
      "info": "Per mostrare i selettori di valuta, aggiungi le valute nel tuo pannello di amministrazione."
    }
  ],
  "presets": [
    {
      "name": "Footer",
      "category": "Footer"
    }
  ]
}
{% endschema %}